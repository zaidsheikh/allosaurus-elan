## [Allosaurus](https://github.com/xinjli/allosaurus/) (universal phone recognizer) extension for [ELAN](https://archive.mpi.nl/tla/elan)

###  Note

This is very early code, still a work-in-progress, let us know if you notice bugs or have any feedback or feature requests.

### Setup

#### Linux

1. Download the latest version of ELAN from [here](https://archive.mpi.nl/tla/elan/download) and install it:
```
wget https://www.mpi.nl/tools/elan/ELAN-XX_linux.tar.gz
tar xzf ELAN-XX_linux.tar.gz
```

2. [Download a copy of this repo](https://github.com/zaidsheikh/allosaurus-elan/archive/refs/heads/dev.zip) and unzip it. Copy the `allosaurus-elan-dev/` folder into ELAN's extensions dir (`ELAN-XX/lib/app/extensions/`).

#### Mac

1. If ELAN is not already installed on your Mac, [download the latest .dmg installer](https://archive.mpi.nl/tla/elan/download) and install it. It should be installed in the `/Applications/ELAN_XX` directory, where `XX` is the name of the version.
2. Download this [zip file](https://github.com/zaidsheikh/allosaurus-elan/archive/refs/heads/dev.zip) and unzip it. You should see a folder named `allosaurus-elan-dev` containing the contents of this repo.
3. Right-click `ELAN_XX` and click "Show Package Contents", then copy your `allosaurus-elan-dev` folder into `ELAN_XX.app/Contents/app/extensions`.


#### Windows

1. Download the latest version of ELAN from [here](https://archive.mpi.nl/tla/elan/download) and install it.
2. [Download a copy of this repo](https://github.com/zaidsheikh/allosaurus-elan/archive/refs/heads/dev.zip) and unzip it. Copy the `allosaurus-elan-dev/` folder into ELAN's extensions dir (`ELAN-XX/app/extensions/`).
3. Install [Python 3](https://www.python.org/downloads/) if it isn't already installed.



### Instructions


Start ELAN with the provided test audio file

`ELAN_6-1/bin/ELAN allosaurus-elan/test/allosaurus.wav &`

Switch to the "Recognizers" tab and then select "Allosaurus Phoneme Recognizer" from the Recognizer dropdown list at the top and then click the "Start" button. ELAN will prompt you to load the output tier generated by the recognizer. Once that's done, you should be able to see the phoneme transcriptions in the timeline viewer.

![image](https://user-images.githubusercontent.com/2358298/124541645-da0adf80-ddef-11eb-8bb6-4a26713545a6.png)

If the audio file is long, you can use an existing audio segmenter (for example, the "Fine audio segmentation" recognizer in ELAN) to segment the audio into utterance level segments first. Once that's done, before you run the "Allosaurus Phoneme Recognizer", in the "Parameters" section set the input tier to the audio segmenter output tier generated previously (for example: "Fine_Segmentation" tier).

![fine_segmentation_input_tier](https://user-images.githubusercontent.com/2358298/126795420-00efc527-d2b8-40c2-8122-0cb37c4c1cfb.png)


This plugin calls Allosaurus running on a remote [CMU Linguistic Annotation Backend](https://github.com/neulab/cmulab) server
